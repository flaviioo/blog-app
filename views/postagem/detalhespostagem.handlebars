<div class="card">
  <div class="card-body">
    <h1>{{postagem.titulo}}</h1>
    <hr />
    <small>Data de publicação: {{postagem.date}}</small>
    <hr />
    <small>{{postagem.conteudo}}</small>
  </div>

  <!-- Formulário de Comentários (Escondido por padrão) -->
  <div id="comentario-form-{{_id}}" class="m-3">
    <h6>Deixe um comentário</h6>
    <form action="/home" method="POST">
      <input type="hidden" name="id" value="{{_id}}" />
      <textarea
        name="comentario"
        class="form-control mb-2"
        placeholder="Escreva seu comentário..."
        required
      ></textarea>
      <button type="submit" class="btn btn-primary btn-sm">Enviar</button>
    </form>
  </div>

  <!-- Lista de Comentários (Escondida por padrão) -->
  <div id="comentario-lista-{{_id}}" class="m-3">
    <h6>Comentários ({{comentarios.length}})</h6>
    {{#if comentarios.length}}
      <ul class="list-group">
        {{#each comentarios}}
          <li class="list-group-item">
            <strong>{{this.usuario}}:</strong>
            {{this.texto}}
          </li>
        {{/each}}
      </ul>
    {{else}}
      <p class="text-muted">Nenhum comentário ainda.</p>
    {{/if}}
  </div>

</div>

<!-- Script para exibir/ocultar o formulário e a lista de comentários -->
<script>
  function toggleComentario(id) { let form =
  document.getElementById('comentario-form-' + id); let lista =
  document.getElementById('comentario-lista-' + id);
  form.classList.toggle('d-none'); lista.classList.toggle('d-none'); }
</script>